Sebastian,

Problem with text after a display-group

The text after a displayed math sequence in a paragraph is not
indented, which is as it should. But DSSSL allows me to include the
math sequence in display group.  The text after the display group is
then indented, even though it does not start a new paragraph.

The attached files aftermath.dsl and aftermath.sgml illustrate the
problem. (Any sgml file would do; the style sheet constructs the
output without referring to the sgml file.)

This problem occurs with any nested paragraphs or display
groups. Should it be considered an error, or is nesting of paragraphs
a bad thing to do? I do not think so; display groups allow one to
specify space-before and space-after.

LaTeX uses \@doendpe to prevent indentation of following text. The
code in everypar.tex is based on \@doenpe. It goes some way towards a
solution, and it works in normal cases. But I am very uncertain about
the many cases that the affected definitions serve. Where in the if
branches should I insert my code? For now I just inserted it at the
end. See the lines % SP for my changes.

Regards,
Simon

Attached: aftermath.dsl, aftermath.sgml, everypar.tex

-- 
Simon Pepping
email: spepping@scaprea.hobby.nl

