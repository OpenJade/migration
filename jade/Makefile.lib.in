#
#  Makefile.lib.in - Makerules for building libraries
#
#  $Id$
#
#  Copyright (C) 1998 Cees A. de Groot
#

CLEANFILES=-r lib$(LIB).la $(OBJS) $(COBJS) $(LT_OBJS) core .libs Makefile.lt

top_builddir=@TOP@
LIB_THREADS=@LIB_THREADS@

all: lib$(LIB).la
pure: all

Makefile.lt:
	echo 'LT_OBJS='`echo $(OBJS)|sed 's/\.o/.lo/g'` >Makefile.lt

lib$(LIB).la: $(LT_OBJS)
	$(LIBTOOL) --mode=link $(CC) -o lib$(LIB).la $(LT_OBJS) \
	    -rpath $(libdir) -version-info $(LTVERSION) $(DEPLIBS)

install:
	$(LIBTOOL) --mode=install $(INSTALL) lib$(LIB).la $(DESTDIR)$(libdir)

install-man:
depend: depend_src
depend.temp: $(GENSRCS)
gen: $(GENSRCS)
