<?xml version='1.0'?> 
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN"
 "/usr/share/sgml/docbook/xml-dtd-4.1.2/docbookx.dtd">
<article>
  <articleinfo>
    <title>onsgmls</title>
    <author>
       <firstname>James</firstname>
       <surname>Clark</surname>
    </author>
    <author>
       <firstname>Ian</firstname>
       <surname>Castle</surname>
       <affiliation><email>ian.castle@looksystems.co.uk</email></affiliation>
    </author>

    <copyright>
       <year>2002</year>
       <holder>OpenJade Project</holder>
    </copyright>
  </articleinfo>

  <section>
    <title>Reference</title>
    
    <refentry>
      <refentryinfo>
        <title>onsgmls</title>
        <date>January 2002</date>
        <productname>OpenJade</productname>
      </refentryinfo>
    
      <refmeta>
        <refentrytitle>onsgmls</refentrytitle>
        <manvolnum>1</manvolnum>
      </refmeta>

      <refnamediv>
        <refname>onsgmls</refname>
        <refpurpose>An SGML System Conforming to International Standard ISO 8879 -- Standard Generalized Markup Language</refpurpose>
      </refnamediv>

      <refsynopsisdiv>
        <cmdsynopsis>
          <command>onsgmls</command>
<!--
 [ -BCdeglprsuv ] [ -alinktype ] [ -bbctf ] [ -csysid ] [
   -Ddirectory ] [ -Emax_errors ] [ -ffile ] [ -iname ] [ -ooutput_option
   ] [ -tfile ] [ -wwarning_type ] [ sysid... ]
-->
          <arg choice="opt"><option>-BCdeglprsuv</option></arg>
          <arg choice="opt"><option>-a<replaceable>linktype</replaceable></option></arg>
          <arg choice="opt"><option>-b<replaceable>bctf</replaceable></option></arg>
          <arg choice="opt" rep="repeat"><option>-c<replaceable>sysid</replaceable></option></arg>
          <arg choice="opt"><option>-D<replaceable>directory</replaceable></option></arg>
          <arg choice="opt"><option>-E<replaceable>max_errors</replaceable></option></arg>
          <arg choice="opt"><option>-f<replaceable>file</replaceable></option></arg>
          <arg choice="opt"><option>-i<replaceable>name</replaceable></option></arg>
          <arg choice="opt" rep="repeat"><option>-o<replaceable>output_option</replaceable></option></arg>
          <arg choice="opt"><option>-t<replaceable>file</replaceable></option></arg>
          <arg choice="opt" rep="repeat"><option>-w<replaceable>warning_type</replaceable></option></arg>
          <arg choice="opt" rep="repeat"><option><replaceable>sysid</replaceable></option></arg>
       </cmdsynopsis>

     </refsynopsisdiv>

     <refsect1>
       <title>Description</title>

   <para><command>onsgmls</command> parses and validates the SGML document whose document entity is
   specified by the system identifiers <arg rep="repeat"><replaceable>sysid</replaceable></arg> and prints on the
   standard output a simple text representation of its Element Structure
   Information Set. (This is the information set which a
   structure-controlled conforming SGML application should act upon.) If
   more than one system identifier is specified, then the corresponding
   entities will be concatenated to form the document entity. Thus the
   document entity may be spread among several files; for example, the
   SGML declaration, prologue and document instance set could each be in a
   separate file. If no system identifiers are specified, then onsgmls
   will read the document entity from the standard input. A command line
   system identifier of - can be used to refer to the standard input.
   (Normally in a system identifier, &lt;OSFD&gt;0 is used to refer to standard
   input.)</para>

   <para>The following options are available:</para>
   
<variablelist>
  <varlistentry>
   <term><option>-a<replaceable>linktype</replaceable></option></term>
   <listitem>
          <para>Make link type <replaceable>linktype</replaceable> active. Not all ESIS information is
          output in this case: the active LPDs are not explicitly
          reported, although each link attribute is qualified with its
          link type name; there is no information about result elements;
          when there are multiple link rules applicable to the current
          element, onsgmls always chooses the first.</para>
   </listitem>
  </varlistentry>

  <varlistentry>
    <term><option>-b<replaceable>bctf</replaceable></option></term>
    <term><option>-b<replaceable>encoding</replaceable></option></term>
    <listitem>
          <para>This determines the encoding used for output. If in fixed
          character set mode it specifies the name of an encoding; if
          not, it specifies the name of a BCTF.</para>
    </listitem>
  </varlistentry>

  <varlistentry>
    <term><option>-B</option></term>
    <listitem>
          <para>Batch mode. Parse each sysid... specified on the command line
          separately, rather than concatenating them. This is useful
          mainly with <option>-s</option>.</para>
          
          <para>If <option>-t<replaceable>filename</replaceable></option> is also specified, then the specified filename
          will be prefixed to the sysid to make the filename for the RAST
          result for each sysid.</para>
    </listitem>
  </varlistentry>

  <varlistentry>
    <term><option>-c<replaceable>sysid</replaceable></option></term>
    <listitem>
          <para>Map public identifiers and entity names to system identifiers
          using the catalog entry file whose system identifier is sysid.
          Multiple <option>-c</option> options are allowed. If there is a catalog entry
          file called catalog in the same place as the document entity,
          it will be searched for immediately after those specified by
          <option>-c</option>.</para>
    </listitem>
  </varlistentry>
          
  <varlistentry>
    <term><option>-C</option></term>
    <listitem>
          <para>The <arg rep="repeat"><option><replaceable>filename</replaceable></option></arg> arguments specify catalog files rather than the
          document entity. The document entity is specified by the first
          DOCUMENT entry in the catalog files.</para>
    </listitem>
  </varlistentry>

  <varlistentry>
    <term><option>-D<replaceable>directory</replaceable></option></term>
    <listitem>
          <para>Search directory for files specified in system identifiers.
          Multiple <option>-D</option> options are allowed. See the description of the
          osfile storage manager for more information about file
          searching.</para>
    </listitem>
  </varlistentry>

  <varlistentry>
    <term><option>-e</option></term>
    <listitem>
          <para>Describe open entities in error messages. Error messages always
          include the position of the most recently opened external
          entity.</para>
    </listitem>
  </varlistentry>
          
  <varlistentry>
    <term><option>-E<replaceable>max_errors</replaceable></option></term>
    <listitem>
          <para>onsgmls will exit after <replaceable>max_errors</replaceable> errors. If <replaceable>max_errors</replaceable> is 0,
          there is no limit on the number of errors. The default is 200.</para>
    </listitem>
  </varlistentry>
          
  <varlistentry>
    <term><option>-f<replaceable>file</replaceable></option></term>
    <listitem>
          <para>Redirect errors to <replaceable>file</replaceable>. This is useful mainly with shells that
          do not support redirection of stderr.</para>
    </listitem>
  </varlistentry>
          
  <varlistentry>
    <term><option>-g</option></term>
    <listitem>
          <para>Show the generic identifiers of open elements in error
          messages.</para>
    </listitem>
  </varlistentry>

  <varlistentry>
    <term><option>-i<replaceable>name</replaceable></option></term>
    <listitem>
          <para>Pretend that</para>
          
<!-- icastle: wanted to use "screen" for this markup, but it doesn't work -->
<para>&lt;!ENTITY % name "INCLUDE"&gt;</para>

          <para>occurs at the start of the document type declaration subset in
          the SGML document entity. Since repeated definitions of an
          entity are ignored, this definition will take precedence over
          any other definitions of this entity in the document type
          declaration. Multiple -i options are allowed. If the SGML
          declaration replaces the reserved name INCLUDE then the new
          reserved name will be the replacement text of the entity.
          Typically the document type declaration will contain</para>
          
<!-- icastle: wanted to use "screen" for this markup, but it doesn't work -->
<para>&lt;!ENTITY % name "IGNORE"&gt;</para>

          <para>and will use %name; in the status keyword specification of a
          marked section declaration. In this case the effect of the
          option will be to cause the marked section not to be ignored.</para>
    </listitem>
  </varlistentry>

  <varlistentry>
    <term><option>-o<replaceable>output_option</replaceable></option></term>
    <listitem>
          <para>Output additional information according to <replaceable>output_option</replaceable>:</para>
                <para><option>entity</option> Output definitions of all general entities not just for
                data or subdoc entities that are referenced or named in
                an ENTITY or ENTITIES attribute.</para>
    	<para><option>id</option> Distinguish attributes whose declared value is ID.</para>
    
    <para><option>line</option> Output L commands giving the current line number and
                filename.</para>

      <para><option>included</option>
                Output an i command for included sub-elements.</para>
      <para><option>empty</option>
                Output an e command for elements which are not allowed to
                have an end-tag, that is those with a declared content of
                empty or with a content reference attribute.</para>
      <para><option>notation-sysid</option>
                Output an f command before an N command, if a system
                identifier could be generated for that notation.</para>
      <para><option>nonsgml</option>
                In fixed character set mode, output \% escape
                sequences for non-SGML data characters. Non-SGML data
                characters can result from numeric character references.</para>
                
          <para>Multiple <option>-o</option> options are allowed.</para>
    </listitem>
    </varlistentry>
    <varlistentry>
      <term><option>-p</option></term>
      <listitem>
          <para>Parse only the prologue. <command>onsgmls</command> will exit after parsing the
          document type declaration. Implies <option>-s</option>.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><option>-s</option></term>
      <listitem>
          <para>Suppress output. Error messages will still be printed.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><option>-t<replaceable>file</replaceable></option></term>
      <listitem>
          <para>Output to file the RAST result as defined by ISO/IEC 13673:1995
          (actually this isn't quite an IS yet; this implements the
          Intermediate Editor's Draft of 1994/08/29, with changes to
          implement ISO/IEC JTC1/SC18/WG8 N1777). The normal output is
          not produced.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><option>-v</option></term>
      <listitem>
          <para>Print the version number.</para>
      </listitem>
    </varlistentry>
          
    <varlistentry>
      <term><option>-w<replaceable>type</replaceable></option></term>
      <listitem>
          <para>Control warnings and errors. Multiple <option>-w</option> options are allowed.
          The following values of type enable warnings:</para>
 
      <para><option>xml</option>
                Warn about constructs that are not allowed by XML.</para>
                
        <para><option>mixed</option>
                Warn about mixed content models that do not allow #pcdata
                anywhere.</para>
                
        <para><option>sgmldecl</option>
                Warn about various dubious constructions in the SGML
                declaration.</para>
                
        <para><option>should</option>
                Warn about various recommendations made in ISO 8879 that
                the document does not comply with. (Recommendations are
                expressed with ``should'', as distinct from requirements
                which are usually expressed with ``shall''.)</para>
                
        <para><option>default</option>
                Warn about defaulted references.</para>
                
        <para><option>duplicate</option>
                Warn about duplicate entity declarations.</para>
                
        <para><option>undefined</option>
                Warn about undefined elements: elements used in the DTD
                but not defined.</para>
                
        <para><option>unclosed</option>
                Warn about unclosed start and end-tags.</para>
                
        <para><option>empty</option>
                Warn about empty start and end-tags.</para>
                
        <para><option>net</option>
                Warn about net-enabling start-tags and null end-tags.</para>
                
        <para><option>min-tag</option>
                Warn about minimized start and end-tags. Equivalent to
                combination of unclosed, empty and net warnings.</para>
                
        <para><option>unused-map</option>
                Warn about unused short reference maps: maps that are
                declared with a short reference mapping declaration but
                never used in a short reference use declaration in the
                DTD.</para>
                
        <para><option>unused-param</option>
                Warn about parameter entities that are defined but not
                used in a DTD. Unused internal parameter entities whose
                text is INCLUDE or IGNORE won't get the warning.</para>
                
        <para><option>notation-sysid</option>
                Warn about notations for which no system identifier could
                be generated.</para>
                
        <para><option>all</option>
                Warn about conditions that should usually be avoided (in
                the opinion of the author). Equivalent to: mixed, should,
                default, undefined, sgmldecl, unused-map, unused-param,
                empty and unclosed.</para>
                
          <para>A warning can be disabled by using its name prefixed with no-.
          Thus <option>-wall</option> <option>-wno-duplicate</option> will enable all warnings except those
          about duplicate entity declarations.</para>
          
          <para>The following values for <replaceable>warning_type</replaceable> disable errors:</para>
          
        <para><option>no-idref</option>
                Do not give an error for an ID reference value which no
                element has as its ID. The effect will be as if each
                attribute declared as an ID reference value had been
                declared as a name.</para>
                
        <para><option>no-significant</option>
                Do not give an error when a character that is not a
                significant character in the reference concrete syntax
                occurs in a literal in the SGML declaration. This may be
                useful in conjunction with certain buggy test suites.</para>
                
        <para><option>no-valid</option>
                Do not require the document to be type-valid. This has
                the effect of changing the SGML declaration to specify
                VALIDITY NOASSERT and IMPLYDEF ATTLIST YES ELEMENT YES.
                An option of <option>-wvalid</option> has the effect of changing the SGML
                declaration to specify VALIDITY TYPE and IMPLYDEF ATTLIST
                NO ELEMENT NO. If neither <option>-wvalid</option> nor <option>-wno-valid</option> are
                specified, then the VALIDITY and IMPLYDEF specified in
                the SGML declaration will be used.</para>
  	</listitem>
    </varlistentry>
   </variablelist>
                
   <para>The following options are also supported for backward compatibility
   with sgmls:</para>
   <variablelist>
   <varlistentry>
   <term><option>-d</option></term>
   <listitem>
          <para>Same as <option>-wduplicate</option>.</para>
   </listitem>
   </varlistentry>
   <varlistentry>
     <term><option>-l</option></term>
     <listitem>
          <para>Same as <option>-oline</option>.</para>
     </listitem>
   </varlistentry>
  
   <varlistentry>
     <term><option>-m<replaceable>sysid</replaceable></option></term>
     <listitem>
          <para>Same as <option>-c</option>.</para>
     </listitem>
   </varlistentry>

   <varlistentry>
     <term><option>-r</option></term>
     <listitem>
          <para>Same as <option>-wdefault</option>.</para>
     </listitem>
   </varlistentry>
          
   <varlistentry>
     <term><option>-u</option></term>
     <listitem>
          <para>Same as <option>-wundef</option>.</para>
     </listitem>
   </varlistentry>
   </variablelist>
          
     </refsect1>
   </refentry>
  </section>
</article>
 
